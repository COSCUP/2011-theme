"use stricts";
(function(){var a={init:function(){var f=document,j=f.body,k=window.applicationCache;if(k)if(j){this.info=f.getElementById("appcache_info");if(!this.info){f.cE=f.createElement;var l=f.cE("a"),f=f.cE("div");f.id="appcache_info";l.href="";f.appendChild(l);j.firstChild&&j.insertBefore(f,j.firstChild);this.info=f}"checking,downloading,progress,noupdate,cached,updateready,obsolete,error".split(",").forEach(function(f){k.addEventListener(f,a)})}else console.log("Premature init. Put the <script> in <body>.")},handleEvent:function(a){this.info.className=
this.info.className.replace(/ ?appcache\-.+\b/g,"")+" appcache-"+a.type;"progress"===a.type&&a.total&&this.info.setAttribute("data-progress",a.loaded+1+"/"+a.total)}};a.init()})();
jQuery(function(a){function f(){return!a("#title:visible").length}function j(){var b=[];a("#mobileSponsorLogo").remove();a.each({diamond:10,gold:5,silver:2,bronze:1},function(e,h){a("#sidebar > .sponsors ."+e+" a").each(function(){for(var a=h;a--;)b.push(this)})});0!==b.length&&a("#nav").after(a('<p id="mobileSponsorLogo" />').append(a(b[Math.floor(b.length*Math.random())]).clone()))}function k(){a("#sidebar2 > .images").imageTile({num:12,photos:yuren_54,beforeImageLoad:function(a){a.css("opacity",
0)},imageLoad:function(a){a.css("opacity",1)}})}function l(b,e){var h=a("<ul />"),d=[];if(e)for(var g=0,c;2>g;){c=e.results.shift();if(!c)break;!/plurk\.com/.test(c.source)&&!/^RT/.test(c.text)&&-1===a.inArray(c.from_user,d)&&(d.push(c.from_user),h.append(a("<li />").append(a('<span class="text" />').html(c.text)).append('<span class="meta"><a href="https://twitter.com/#!/'+c.from_user+"/status/"+c.id_str+'">@'+c.from_user+"</a></span>")),g++)}if(b)for(g=0;2>g;){c=b.plurks.shift();if(!c)break;b.users[c.user_id]&&
!/plurk\.com\/(m\/)?\p\//.test(c.content)&&-1===a.inArray(b.users[c.user_id].nick_name,d)&&(d.push(b.users[c.user_id].nick_name),h.append(a("<li />").append(a('<span class="text" />').html(c.content)).append('<span class="meta"><a href="http://www.plurk.com/p/'+c.plurk_id.toString(36)+'">@'+b.users[c.user_id].nick_name+"</a></span>")),g++)}a("#sidebar2 > .socialbuzz").empty().append(h)}function o(){a("#sidebar2 > .images").length&&(a.fn.imageTile?k():a.ajax({url:"http://coscup.org/2012-theme/assets/imagetile.min.js",
dataType:"script",cache:!0,success:k}));if(a("#sidebar2 > .socialbuzz").length){var b,e;a.getJSON("http://coscup.org/2012/api/plurk/",function(a){b=a;l(b,e)});a.getJSON("https://search.twitter.com/search.json?q=coscup+OR+from%3Acoscup&callback=?",function(a){e=a;l(b,e)})}a("#ipv6block").length&&("ipv6.coscup.org"===window.location.hostname?(window._gaq&&_gaq.push(["_trackEvent","IPv6 2012","connected"]),a("#ipv6block").addClass("show").append("<h2>IPv6 Connectivity</h2><p>You are currently using IPv6 connection.</p>")):
a.getJSON("http://v6.ipv6-test.com/api/myip.php?json&callback=?",function(){window._gaq&&_gaq.push(["_trackEvent","IPv6 2012","ready but not connected"]);a("#ipv6block").addClass("show").append('<h2>Connect using IPv6</h2><p>Your network is IPv6 ready. Try it now by connect to <a href="http://ipv6.coscup.org/">ipv6.coscup.org</a>.</p>')}));a("#countdown-time").length&&(m=setInterval(p,1E3),a(window).bind("pageload",function(h){clearTimeout(m);a(window).unbind(h)}),p(),a("#countdown").addClass("show"))}
function r(){a(".hideInMobile iframe").each(function(){a(this).attr("data-src",this.src);this.src=""})}function t(){a("#sidebar2 iframe").each(function(){a(this).attr("data-src")&&(this.src=a(this).attr("data-src"))})}function q(){if(n){var b=function(){var h={};a(".types li").each(function(d){h[(d+1).toString(10)]=a(this).text()});return h}();a.fn.translateTo=function(a){return a?(a+=10,this.addClass("translate").css({"-webkit-transform":"translateX("+a.toString(10)+"px)","-moz-transform":"translateX("+
a.toString(10)+"px)","-ms-transform":"translateX("+a.toString(10)+"px)",transform:"translateX("+a.toString(10)+"px)"})):this.removeClass("translate").css({"-webkit-transform":"","-moz-transform":"","-ms-transform":"",transform:""})};var e;a("table.program").each(function(){var b=a(this);b.prev().after(a('<div class="program" />').append(b).bind("scroll",function(){var d=a(this);d.find("thead th:first, tbody th").translateTo(0);clearTimeout(e);e=setTimeout(function(){d.find("thead th:first, tbody th").translateTo(d.scrollLeft())},
200)}).bind("touchstart",function(d){var b=a(this),c=a(window),h=d.clientX||d.originalEvent.touches[0].clientX,e=d.clientY||d.originalEvent.touches[0].clientY;b.hasClass("expend")&&!f()&&(b.addClass("movestart"),c.bind("touchmove",function(a){b.removeClass("movestart").addClass("moving").scrollLeft(b.scrollLeft()+h-(a.clientX||a.originalEvent.touches[0].clientX));"touchmove"!==a.type&&c.scrollTop(c.scrollTop()+e-(a.clientY||a.originalEvent.touches[0].clientY));h=a.clientX||a.originalEvent.touches[0].clientX;
e=a.clientY||a.originalEvent.touches[0].clientY}).bind("touchend",function(){c.unbind("touchmove touchend");setTimeout(function(){b.removeClass("moving movestart")},0);return!1}))}))});a("table.program td").each(function(){var h=a(this),d=n[h.data("pid")];if(d)if(0===d.type){var g=a('<ul class="meta" />');if(d.slide){var c=a('<li><a href="'+d.slide+'">'+{en:"Slide","zh-tw":"\u6295\u5f71\u7247","zh-cn":"\u6295\u5f71\u7247"}[i||"en"]+"</a></li>");g.append(c)}if(d.youtube){var c=[].concat(d.youtube),
e="http://www.youtube.com/embed/"+c.shift()+"?hd=1";d.youtube.length&&(e+="&playlist="+c.join(","));c=a('<li><a href="'+e+'" class="youtube_video">'+{en:"Video","zh-tw":"\u6f14\u8b1b\u9304\u5f71","zh-cn":"\u6f14\u8bb2\u5f55\u5f71"}[i||"en"]+"</a></li>");g.append(c)}g.children().length&&h.append(g)}else{var f=a('<ul class="meta" />'),g=a('<ul class="meta" />'),c={en:"English",zh:"\u6f22\u8a9e"}[(this.className.match(/program_lang_(\w+)\b/)||[])[1]],e=b[(this.className.match(/program_type_(\w+)\b/)||
[])[1]];c&&f.append(a("<li />").text(c));e&&f.append(a("<li />").text(e));d.slide&&(c=a('<li><a href="'+d.slide+'">'+{en:"Slide","zh-tw":"\u6295\u5f71\u7247","zh-cn":"\u6295\u5f71\u7247"}[i||"en"]+"</a></li>"),g.append(c),f.append(c.clone()));d.youtube&&(c=[].concat(d.youtube),e="http://www.youtube.com/embed/"+c.shift()+"?hd=1",d.youtube.length&&(e+="&playlist="+c.join(",")),c=a('<li><a href="'+e+'" class="youtube_video">'+{en:"Video","zh-tw":"\u6f14\u8b1b\u9304\u5f71","zh-cn":"\u6f14\u8bb2\u5f55\u5f71"}[i||
"en"]+"</a></li>"),g.append(c),f.append(c.clone()));c=a('<div class="info" />');f.children().length&&c.append(f);d["abstract"]&&c.append(a('<div class="abstract" />').html(d["abstract"]));d.bio&&c.append(a('<div class="bio" />').html(d.bio));g.children().length&&h.append(g);c.children().length&&h.append(c)}}).bind("click",function(){var b=a(this),d=b.parents("div.program"),e=parseInt((this.className.match(/program_room_(\w+)\b/)||[])[1]),c=a(window).scrollTop()-b.offset().top;if(d.hasClass("moving"))return!1;
window._gaq&&_gaq.push(["_trackEvent","Program 2012",this.hash]);a(this).toggleClass("expend");d.toggleClass("expend");d.find("thead th:first, tbody th").translateTo(d.scrollLeft());switch(e){case 0:d.scrollLeft(0.26*d[0].scrollWidth);break;case 1:d.scrollLeft(0);break;case 2:d.scrollLeft(0.13*d[0].scrollWidth);break;case 3:d.scrollLeft(0.38*d[0].scrollWidth);break;case 4:d.scrollLeft(d[0].scrollWidth)}a(window).scrollTop(b.offset().top+c)});a(".program p.name a").bind("click",function(a){if(2==a.which||
a.metaKey)return!0;a.preventDefault()});a(".program .meta a, .program .info a").bind("click",function(b){if(2==b.which||b.metaKey)return!0;if(a(this).hasClass("youtube_video")&&!f()){if(a(document.body).append('<div id="video_modal" class="video_box" />').append('<iframe id="video_iframe" class="video_box" title="YouTube video player" width="854" height="483"  src="'+this.href+'" frameborder="0"  allowfullscreen="allowfullscreen"></iframe>').append('<div id="video_close_button" class="video_box" />'),
0===a("#video_modal").offset().top){a(".video_box").css("position","absolute");var d=function(){a("#video_modal").css({top:0,left:0,width:document.body.scrollWidth,height:document.body.scrollHeight});a("#video_iframe, #video_close_button").css({top:a(window).scrollTop()+(window.innerHeight||a(window).height())/2,left:a(window).scrollLeft()+(window.innerWidth||a(window).width())/2})};d();a(window).bind("scroll.repositionvideo resize.repositionvideo",d).bind("pageload.repositionvideo",function(b){a(window).unbind("scroll.repositionvideo resize.repositionvideo").unbind(b)})}}else window.open(this.href);
b.preventDefault();b.stopPropagation()})}}function p(){var b=(new Date("Fri Jul 16 2012 20:00:00 GMT+0800 (CST)")).getTime()-Math.floor((new Date).getTime()/1E3);0>b&&(clearTimeout(m),a("#countdown").html({en:'<a href="http://registrano.com/events/coscup2012-regist?locale=en">Register Now!</a>',"zh-tw":'<a href="http://registrano.com/events/coscup2012-regist">\u7acb\u523b\u5831\u540d\uff01</a>',"zh-cn":'<a href="http://registrano.com/events/coscup2012-regist">\u7acb\u523b\u62a5\u540d\uff01</a>'}[i]));
s=[];s[0]=(b%60).toString(10)+{en:" seconds","zh-cn":" \u79d2","zh-tw":" \u79d2"}[i];b=Math.floor(b/60);s[1]=(b%60).toString(10)+{en:" minutes ","zh-cn":" \u5206 ","zh-tw":" \u5206 "}[i];b=Math.floor(b/60);s[2]=(b%24).toString(10)+{en:" hours ","zh-cn":" \u65f6 ","zh-tw":" \u6642 "}[i];(b=Math.floor(b/24))&&(s[3]=b.toString(10)+{en:" days ","zh-cn":" \u5929 ","zh-tw":" \u5929 "}[i]);a("#countdown-time").text(s.reverse().join(""))}var i=(a("html").attr("lang")||"zh-TW").toLowerCase(),m;a("#nav.empty").length&&
a.getJSON("http://coscup.org/2012/api/menu/?callback=?",function(b){a("#nav").removeClass("empty").html(b[i].replace(/href="(\/[^\/])/g,'href="http://coscup.org$1'));a('#nav a[href*="'+window.location.hostname+'"]').parent().addClass("current")});a(window).bind("pageload",j);a(window).bind("pageload",function(){if(a(".shortcuts")&&!((new Date).getTime()>parseInt(a(".program tbody th:last").attr("rel")+"000",10))){var b=a('<a href="#" />').text({"zh-tw":"\u76ee\u524d\u8b70\u7a0b","zh-cn":"\u76ee\u524d\u8bae\u7a0b",
en:"Current Session"}[i]);b.bind("click",function(b){var e=(new Date).getTime(),c;b.stopPropagation();b.preventDefault();a(".program tbody th").each(function(b,d){var f=parseInt(a(d).attr("rel")+"000",10);if(e<f&&c)return a(document.body).animate({scrollTop:a(c).offset().top-20},180),a(window).trigger("scroll"),!1;e>f&&(c=d)});c||(a(document.body).animate({scrollTop:a(".program tbody th:first").offset().top-20},180),a(window).trigger("scroll"))});a(".shortcuts").append(a('<li class="fullwidth" />').append(b));
a(".shortcuts").after('<a class="mobile_top" href="#"></a>');var e=a(".mobile_top"),f;e.bind("click",function(){a(window).trigger("scroll");a(document.body).animate({scrollTop:a(".shortcuts").offset().top-20},180);return!1});a(window).bind("resize.mt scroll.mt",function(){e.removeClass("show");clearTimeout(f);f=setTimeout(function(){a(".shortcuts").offset().top<a(document.body).scrollTop()&&e.css("top",a(document.body).scrollTop()+(window.innerHeight||a(window).height())-e.height()-15).addClass("show")},
200)});a(window).bind("pageload",function(b){clearTimeout(f);a(window).unbind("resize.mt scroll.mt").unbind(b)})}});a("#sidebar > .sponsors.empty").length&&a.getJSON("http://coscup.org/2012/api/sponsors/?callback=?",function(b){var e=a("#sidebar > .sponsors").removeClass("empty"),f={en:{diamond:"Diamond Level Sponsors",gold:"Gold Level Sponsors",silver:"Silver Level Sponsors",bronze:"Bronze Level Sponsors",media:"Media Partners"},"zh-tw":{diamond:"\u947d\u77f3\u7d1a\u8d0a\u52a9",gold:"\u9ec3\u91d1\u7d1a\u8d0a\u52a9",
silver:"\u767d\u9280\u7d1a\u8d0a\u52a9",bronze:"\u9752\u9285\u7d1a\u8d0a\u52a9",media:"\u5a92\u9ad4\u5925\u4f34"},"zh-cn":{diamond:"\u94bb\u77f3\u7ea7\u8d5e\u52a9",gold:"\u9ec4\u91d1\u7ea7\u8d5e\u52a9",silver:"\u767d\u94f6\u7ea7\u8d5e\u52a9",bronze:"\u9752\u94dc\u7ea7\u8d5e\u52a9",media:"\u5a92\u4f53\u4f19\u4f34"}}[i];a.each(["diamond","gold","silver","bronze","media"],function(d,g){if(b[g]){e.append("<h2>"+f[g]+"</h2>");var c=a('<ul class="'+g+'" />');a.each(b[g],function(a,b){c.append('<li><a href="'+
b.url+'" target="_blank"><img title="'+b.name[i]+'" src="'+b.logoUrl+'" /></a></li>')});e.append(c)}});j()});a(".sponsors a, #mobileSponsorLogo a").live("click",function(){window._gaq&&_gaq.push(["_trackEvent","Sponsors 2012",this.href]);return!0});a("#mobileSponsorLogo a").live("click",function(){window._gaq&&_gaq.push(["_trackEvent","Sponsors 2012 (Mobile only)",this.href]);return!0});a(".shortcuts a").live("click",function(b){a(window).trigger("scroll");b.preventDefault();a(document.body).animate({scrollTop:a(this.hash).offset().top-
20},180)});a("#nav > ul > li").bind("touchstart",function(){var b=a(this);b.addClass("selected");a(document.body).bind("touchend",function(e){b.removeClass("selected");a(this).unbind(e)})});a(".socialbuzz a").live("click",function(){window.open(this.href);return!1});(function(){a(window).trigger("pageload");a("#header").css("background-position","center -"+(75*Math.floor(4*Math.random())).toString(10)+"px");a("#footer").css("background-position","center -"+(75*Math.floor(6*Math.random())).toString(10)+
"px");f()?(window._gaq&&_gaq.push(["_trackEvent","Mobile 2012",window.location.href]),a(window).bind("resize.defer",function(){f()||(a(this).unbind("resize.defer"),o(),t())}),r()):o()})();a(window).bind("pageload",q);a("#video_modal, #video_close_button").live("click",function(){a(".video_box").remove();a(window).unbind("scroll.repositionvideo resize.repositionvideo pageload.repositionvideo")});var n;/((blog|sponsor|register)\.)?coscup\.org\.?/.test(window.location.domain)||a.getJSON("http://coscup.org/2012/api/program/?callback=?",
function(a){n=a;q()})});

